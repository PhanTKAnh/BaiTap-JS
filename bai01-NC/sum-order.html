<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!--  -->
    <script>

        const ordersJSON = `
	  [
	    {
	      "id": 1,
	      "items": [
	        {
	          "productId": 1,
	          "quantity": 2
	        },
	        {
	          "productId": 2,
	          "quantity": 1
	        }
	      ]
	    },
	    {
	      "id": 2,
	      "items": [
	        {
	          "productId": 3,
	          "quantity": 3
	        }
	      ]
	    }
	  ]
	`;
        const productsJSON = `
	  [
	    {
	      "id": 1,
	      "name": "iPhone 12",
	      "price": 1200
	    },
	    {
	      "id": 2,
	      "name": "Samsung Galaxy S21",
	      "price": 1000
	    },
	    {
	      "id": 3,
	      "name": "Google Pixel 5",
	      "price": 900
	    }
	  ]
	`;

        const ordersJS = JSON.parse(ordersJSON);
        const productsJS = JSON.parse(productsJSON);

        var calculateOrderTotal = (idOrder) => {
            const order = ordersJS.find((item) => item.id === idOrder);
            if (order) {
                let total = 0;
                for(item of order.items){
                    const product = productsJS.find((p)=>p.id === item.productId);
                    if(product){
                        total += product.price * item.quantity;
                    }
                }
                return total;
            }else{
                return " khong tim thay don hang ";
            }
        }

        	console.log(calculateOrderTotal(1)); 



    </script>
</body>

</html>